<template name="viewTemplate">
<div id="content" class="transitions-content">

  {{#if template}}
    {{#if isOwnerAndShared}}
      <div class="card-panel blue-grey lighten-3">
        <i class="material-icons left">people</i>
        You are sharing this Template with others in your Organization. Some content is not yet editable.
      </div>
    {{else}}
      {{#if isOwner}}
        <div class="card-panel blue-grey lighten-3">
          <i class="material-icons left">person</i>
          Only you can see this Template. Some content is not yet editable.
        </div>
      {{else}}
        <div class="card-panel blue-grey lighten-3">
          <i class="material-icons left">people</i>
           This Template is shared with you by&nbsp;<b>{{template.creator}}</b>. You cannot make changes to this Template.
        </div>
      {{/if}}
    {{/if}}

    <br>

    <!--TEMPLATE INFO SECTION-->
    <div class="card">
      {{#if isEditingTemplateInfo}}
        <form>
          <div class="card-image">
            <button class="btn-floating halfway-fab right waves-effect waves-light" id="updateTemplateInfoSave">
              <i class="material-icons left">done</i>
            </button>
            <button style="margin-right: 50px;" class="btn-floating halfway-fab right waves-effect waves-light grey" id="updateTemplateInfoCancel">
              <i class="material-icons left">clear</i>
            </button>
          </div>
          <div class="card-content">
            <span class="card-title">Edit "{{template.name}}"</span>
            <br>
            <div class="input-field">
              <input type="text" name="templateName" value="{{template.name}}" autocomplete="off">
              <label for="templateName" class="active">Template Name</label>
            </div>
            <div class="input-field">
              <textarea name="templateDescription" class="materialize-textarea" value="{{template.description}}"></textarea>
              <label for="templateDescription" class="active">Description</label>
            </div>
            <div class="input-field">
              <div class="switch">
                <label>
                  Inactive
                  <input name="templateActive" type="checkbox" checked="{{template.active}}">
                  <span class="lever"></span>
                  Active
                </label>
              </div>
              <br><br>
            </div>
          </div>
        </form>
      {{else}}
        {{#if isOwner}}
          <div class="card-image">
            <button class="btn-floating halfway-fab right waves-effect waves-light" id="updateTemplateInfoEdit">
              <i class="material-icons left">mode_edit</i>
            </button>
          </div>
        {{/if}}
        <div class="card-content">
          <h5>{{template.name}}</h5>
          <p>{{template.description}}</p>
          <br>
          <h5>Date Created</h5>
          <p>{{longDate template.createdAt}}</p>
          <br>
          <h5>Active</h5>
          <div class="switch">
            <label>
              <input disabled type="checkbox" checked="{{template.active}}">
              <span class="lever"></span>
            </label>
          </div>
        </div>
      {{/if}}
    </div>
    <!--END TEMPLATE INFO SECTION-->

    <!--TEMPLATE ITEMS SECTION-->
    <div class="card">
      <div class="card-image">
        <!-- HIDING UNTIL READY
        <button class="btn-floating halfway-fab right waves-effect waves-light" id="updateTemplateItemsEdit">
          <i class="material-icons left">mode_edit</i>
        </button>
        -->
      </div>
      <div class="card-panel">
        <span class="card-title">Items in Template</span>
        {{#each template.items}}
          <p>
            {{#if isFile type}}
              <span class="fixedLabel new badge blue">&nbsp; FILE &nbsp;</span>
            {{/if}}
            {{#if isFolder type}}
              <span class="fixedLabel new badge green">FOLDER</span>
            {{/if}}
            <div class="truncate">
              {{name}}
            </div>
          </p>
        {{/each}}
      </div>
    </div>
    <!--END TEMPLATE ITEMS SECTION-->

    <!--TEMPLATE SHARING SECTION-->
    <div class="card">
      <div class="card-image">
        <!-- HIDING UNTIL READY
        <button class="btn-floating halfway-fab right waves-effect waves-light" id="updateTemplateItemsEdit">
          <i class="material-icons left">mode_edit</i>
        </button>
        -->
      </div>
      <div class="card-panel">
        <span class="card-title">Share Template with Colleagues</span>
        <p>
          Templates can be shared with others in your Organization. Shared Templates can 
          be viewed and used by others, but cannot be deleted or edited. Users <b>must</b> have collaboration
          access to the Box content being copied, or else will receive an error when copying!
        </p>
        <div class="switch">
          <label>
            Off
            <input disabled type="checkbox" checked="{{template.sharing.shared}}">
            <span class="lever"></span>
            On
          </label>
        </div>
      </div>
    </div>
    <!--END TEMPLATE SHARING SECTION-->

    <!--TEMPLATE RENAME SECTION-->

    <div class="card">
      <div class="card-image">
        <!-- HIDING UNTIL READY
        <button class="btn-floating halfway-fab right waves-effect waves-light" id="updateTemplateItemsEdit">
          <i class="material-icons left">mode_edit</i>
        </button>
        -->
      </div>
      <div class="card-panel">
        <span class="card-title">Dynamic Rename</span>
        <p>
          Dynamic Rename allows CloudTemplates to automatically rename copied items using the find values below.
          When you copy from this Template you will see these find values and you can choose to replace instances of these values
          with the "replace" term, which you can set on the "Copy from Template" page.
        </p>
        <div class="switch">
          <label>
            Off
            <input disabled type="checkbox" checked="{{template.dynamicRename.isUsing}}">
            <span class="lever"></span>
            On
          </label>
        </div>

        {{#if template.dynamicRename.isUsing}}
          <br>
          <span class="card-title">Find Values</span>
          <div class="ui list">
            {{#each template.dynamicRename.findValues}}
              <div class="input-field">
                <input disabled value="{{this}}" type="text">
                <label></label>
              </div>
            {{/each}}
          </div>
        {{/if}}
      </div>
    </div>
    <!--END TEMPLATE RENAME SECTION-->

    <br>

  {{else}}
    <div class="card-panel red">
      <i class="material-icons left">warning</i>
      This Template does not exist or you do not have permission to view it
    </div>
  {{/if}}
</div>
</template>
